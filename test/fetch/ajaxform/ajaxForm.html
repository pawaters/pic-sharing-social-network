<!DOCTYPE html>
<head>
    <title>Ajax form</title>
</head>
<body>
    <form id="getForm">
        <input id="name" type="text" name="name">
        <input id="age" type="text" name="name">
        <input type="submit" value="submit">
    </form>
    <form id="postForm">
        <input type="text" id="postName" name="postName">
        <input type="text" id="postAge" name="postAge">
        <input type="submit" value="submit">
    </form>
    <br><br>
    <div id="result"></div>
    <br><br>
</body>
<script>
    let getForm = document.getElementById("getForm");
    getForm.addEventListener('submit', getMethod);

    function getMethod(ev){
        ev.preventDefault();
        let name = document.getElementById("name").value;
        let age = document.getElementById("age").value;

        // this will be appended
        let response = 'name='+name+'&age='+age;

        let xhr = new XMLHttpRequest();

        xhr.onload  = function () {
            if (this.status == 200) {
                document.getElementById('result').innerHTML = this.response;
            };
        };

        xhr.open('GET', 'resp.php?'+response, true);

        xhr.send();
    }

    // This is the Ajax Post form part
    let postForm = document.getElementById('postForm');
    postForm.addEventListener('submit', postMethod);

    // everythis is the same as get method
    function postMethod(ev){
        
        ev.preventDefault();
        
        let xhr = new XMLHttpRequest();
        let name = document.getElementById('postName').value;
        let age = document.getElementById('postAge').value;
        
        // this is the response with several keys and values to be sent
        let response = 'name='+name+'&age='+age;
        
        xhr.onload = function(){
            if (this.status == 200){
                // console.log('here in post');
                document.getElementById('result').innerHTML = this.response;
            };
        };

        // open this time with post method
        xhr.open('POST', 'resp.php', true);
        
        // you need to set the content type header in post methods, otherwise no results
        // will be displayed.
        // for different content type 
        // check url(https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types)
        xhr.setRequestHeader("Content-type", "application/x-www-form-urlencoded");

        // with post, you need to send the keys,values inside send method.
        xhr.send(response);
    };
    

</script>